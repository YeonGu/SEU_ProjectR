---
title: 将大局逆转吧！-综合练习
lang: zh-CN
---


# 第七章 将大局逆转吧！-综合练习

## 节日小彩灯控制器
### 初始情况
三个小灯全部熄灭，串口输出"System initialized",按下按键后，开始进入工作状态。
### 工作状态

##### 串口输入“mode1”
则LD1、LD2、LD3以每一个小灯呼吸灯亮灭2s的周期进行流水灯循环操作。此时串口输入十六进制指令会进行相应的变化:

0xFF,0X00,0xFE:正序流水灯

0xFF,0X01,0xFE:逆序流水灯

##### 串口输入“mode2”
则LD1、LD2、LD3同时以1s的周期进行闪烁；此时串口输入十六进制指令会进行相应的变化:第二个十六进制所对应的八位二进制的后三位`a2a1a0`分别对应LD3,LD2,LD1,置1为工作状态(即闪烁)，置0为熄灭状态。下面为三个例子：

0xFF,0XF8,0xFE:全部熄灭

0xFF,0XFB,0xFE:LD3熄灭，LD2、LD1闪烁

0xFF,0XFF,0xFE:LD3、LD2、LD1闪烁

##### 串口输入“mode3”

LD3 熄灭，当输入字符串指令"start"之后，启动，系统作出如下反应：

- 启动之后，LD3 以 0.5Hz 的频率闪烁；

- 启动 4s 后，LD3 以 1Hz 的频率闪烁；

- 启动 7s 后，LD3 以 2Hz的频率闪烁；

- 启动 10s 后，LD3 常亮，此时LD1以呼吸灯的形式亮灭2s的周期，LD2以闪烁的方式亮灭1s的周期工作。

再输入"start"之后，重复这个过程。



::: info 本章修改记录 

2025/2 完成编写 (王博涵)

2025/3 网页适配 (顾雨杭) :::